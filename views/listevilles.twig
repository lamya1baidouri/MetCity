{% extends 'layout.twig' %}

{% block body %}
    <link rel="stylesheet" href="/stylesheets/villeliste.css">
    <h1>Liste des villes</h1>
    <form action="/HomePage" method="get">
        <button class="back-btn" type="submit">Page d'accueil</button>
    </form>
    <input type="text" id="searchInput" placeholder="Rechercher une ville">
    <ul id="villesList">
        {% for ville in villes %}
            <li class="ville-item">
                <div class="ville-info">
                    <span class="ville-nom">{{ ville.nom }}</span>
                    <span class="ville-coords">Lat: {{ ville.latitude | number_format(2) }}, Lon: {{ ville.longitude | number_format(2) }}</span>
                </div>
                <button class="voir-meteo-btn" data-lat="{{ ville.latitude }}" data-lon="{{ ville.longitude }}">Voir Météo</button>
                <button class="delete-ville-btn" data-id="{{ ville.id }}">Supprimer</button>
            </li>
        {% endfor %}
    </ul>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="/javascripts/meteoService.js"></script>
{% endblock %}
